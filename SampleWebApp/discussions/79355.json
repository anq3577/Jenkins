[
  {
    "Id": "271672",
    "ThreadId": "79355",
    "Html": "<p>Hi,</p>\r\n<p>When I was at 4 step, I run website I added new user and so&nbsp;I added this code below&nbsp;like I read into &quot;read me first&quot; into Global.asax:&nbsp;</p>\r\n<p>using System.Collections.Generic;<br>using System.Web;<br>using System.Web.Mvc;<br>using System.Web.Routing;<br>using ClubStarterKit.Core;<br>using ClubStarterKit.Infrastructure;<br>using ClubStarterKit.Infrastructure.Routing;</p>\r\n<p>namespace ClubStarterKit.Web<br>{<br>&nbsp;&nbsp;&nbsp; public class CskApplication : HttpApplication<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; protected void Application_Start()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RegisterRoutes(RouteTable.Routes);</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // run the bootsrap method on all the bootstrappers<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //new BinPartLoader&lt;IBootstrapper&gt;().WithAssemblyOf(this)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new BinPartLoader&lt;IBootstrapper&gt;().WithAssemblyOf(this)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .Items<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .Foreach(i =&gt; i.Bootstrap());</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Uncomment this line *ON YOUR FIRST RUN* to hydrate the database wtih tables<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //new ClubStarterKit.Data.NHibernate.NHDataProvider(new ClubStarterKit.Web.Infrastructure.Application.SessionBuilder()).Hydrate();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //added at 4 step<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; using (var scope = new ClubStarterKit.Core.DataAccess.UnitOfWorkScope())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var role = new ClubStarterKit.Domain.Role<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RoleName = Constants.AdminRole<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.Role&gt;().Save(role);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.Commit();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; using (var scope = new ClubStarterKit.Core.DataAccess.UnitOfWorkScope())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var user = scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.User&gt;().<span style=\"color:#ff0000\">First</span>(u =&gt; u.Username == &quot;[sudcode]&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var role = scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.User&gt;().<span style=\"color:#ff0000\">First</span>(r =&gt; r.RoleName == Constants.AdminRole);</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var userinrole = new ClubStarterKit.Domain.UserInRole<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User = user,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Role = role<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.UserInRole&gt;().Save(userinrole);</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.Commit();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static void RegisterRoutes(RouteCollection routes)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; routes.IgnoreRoute(&quot;{resource}.axd/{*pathInfo}&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; routes.IgnoreRoute(&quot;favicon.ico&quot;);</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // register routes from the registrants<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new BinPartLoader&lt;IRouteRegistrant&gt;().WithAssemblyOf&lt;CskApplication&gt;()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .Items<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .Foreach(r =&gt; r.Register(routes));</p>\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // because this mapping needs to be last<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // this mapping MUST be after all registrant <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // registrations<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; routes.MapRouteLowercase(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Default&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;{controller}/{action}/{id}&quot;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new { controller = &quot;Home&quot;, action = &quot;Index&quot;, id = &quot;&quot; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br>}</p>\r\n<p style=\"padding-left:30px\">&nbsp;I receveid this two errors:</p>\r\n<p style=\"padding-left:30px\">Error&nbsp;1&nbsp;'ClubStarterKit.Core.DataAccess.IRepository&lt;ClubStarterKit.Domain.User&gt;' does not contain a definition for 'First' and no extension method 'First' accepting a first argument of type 'ClubStarterKit.Core.DataAccess.IRepository&lt;ClubStarterKit.Domain.User&gt;' could be found (are you missing a using directive or an assembly reference?)&nbsp;C:\\Documents and Settings\\Administrator\\Desktop\\CMSKIT\\clubstarterkit v3 preview\\ClubStarterKit.Web\\Global.asax.cs&nbsp;56&nbsp;89&nbsp;ClubStarterKit.Web</p>\r\n<p style=\"padding-left:30px\">Error&nbsp;2&nbsp;'ClubStarterKit.Core.DataAccess.IRepository&lt;ClubStarterKit.Domain.User&gt;' does not contain a definition for 'First' and no extension method 'First' accepting a first argument of type 'ClubStarterKit.Core.DataAccess.IRepository&lt;ClubStarterKit.Domain.User&gt;' could be found (are you missing a using directive or an assembly reference?)&nbsp;C:\\Documents and Settings\\Administrator\\Desktop\\CMSKIT\\clubstarterkit v3 preview\\ClubStarterKit.Web\\Global.asax.cs&nbsp;57&nbsp;89&nbsp;ClubStarterKit.Web</p>\r\n<p style=\"padding-left:30px\">&nbsp;</p>\r\n<p style=\"padding-left:30px\">I have done some mistake, but you could help me. I use vs.net beta 2 and sql server 2008</p>\r\n<p style=\"padding-left:30px\">&nbsp;</p>\r\n<p style=\"padding-left:30px\">Thanks</p>",
    "PostedDate": "2009-12-30T03:52:59.54-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "272619",
    "ThreadId": "79355",
    "Html": "Hi,\r\n\r\nI see from another post &quot;http://clubstarterkit.codeplex.com/Thread/View.aspx?ThreadId=77554&quot; that &quot;var role = scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.User&gt;().First(r =&gt; r.RoleName == Constants.AdminRole);&quot; should read &quot;var role = scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.Role&gt;().First(r =&gt; r.RoleName == Constants.AdminRole);&quot; instead.\r\n\r\nAnyway, I have exactly the same problem as you describe. I guess there will be a solution when the new source code is made available. As far as I can see there is just about only the folder structure left now.",
    "PostedDate": "2010-01-03T13:57:48.843-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "277763",
    "ThreadId": "79355",
    "Html": "<p>Same thing here. A bit funny though, first you are complemented for reading the readme first, but then you get stuck following the readme. Any one with a solution? I will issue it as an issue as well.</p>\r\n<p><br>Thanks</p>\r\n<p>P.S. Great work anyways!</p>",
    "PostedDate": "2010-01-15T14:56:54.71-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "277884",
    "ThreadId": "79355",
    "Html": "<p>Agree. But it`s strange there are hundreds of downloads and only a few users have mentioned this problem. Maybe we did something wrong, but I also followed instructions in the readme file. I am using Windows 7 Ultimate and Visual Studio 2010 beta 2.</p>",
    "PostedDate": "2010-01-16T02:38:30.093-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "279222",
    "ThreadId": "79355",
    "Html": "<p>I had the same problem and I'm using Vista Ultimate and VS 2010 beta 2.</p>\r\n<p>I started a new discussion (titled 'Temporary hack to get v3 admin working')&nbsp;addressing the issue&nbsp;and a quick work-around. Hope it helps :)</p>\r\n<p>Not sure if it's a proper solution but seems that it gets the admin to work because i can delete members when the admin user is logged in. I haven't had time to check out the app properly yet.</p>\r\n<p>&nbsp;</p>\r\n<p>Aj.</p>",
    "PostedDate": "2010-01-19T15:54:52.703-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "279238",
    "ThreadId": "79355",
    "Html": "<p>You need to add a using for System.Linq. The First combinator comes directly from there... this isn't any IRepository magic... it's from IQueriable (which is in System.Linq).</p>",
    "PostedDate": "2010-01-19T16:37:49.957-08:00",
    "UserRole": "Coordinator",
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "286874",
    "ThreadId": "79355",
    "Html": "<p>Adding &quot;using System.Linq;&quot; did help - got me over the first error, but now getting -</p>\r\n<p>Error&nbsp;2&nbsp;'ClubStarterKit.Domain.User' does not contain a definition for 'RoleName' and no extension method 'RoleName' accepting a first argument of type 'ClubStarterKit.Domain.User' could be found (are you missing a using directive or an assembly reference?)&nbsp;E:\\00-Code\\000-VS2010\\ClubStarterKit\\ClubStarterKit.Web\\Global.asax.cs&nbsp;61&nbsp;58&nbsp;ClubStarterKit.Web</p>\r\n<p>Getting there :) any more ideas?</p>\r\n<p>-Allen</p>",
    "PostedDate": "2010-02-07T13:13:38.763-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "286875",
    "ThreadId": "79355",
    "Html": "<p>Cracked it!</p>\r\n<p>There's a typo in the original code as well --</p>\r\n<p>&nbsp;var user = scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.User&gt;()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .First(u =&gt; u.Username == &quot;Admin&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var role = scope.UnitOfWork.RepositoryFor&lt;ClubStarterKit.Domain.<span style=\"color:#ff0000\">Role</span>&gt;()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .First(r =&gt; r.RoleName == Constants.AdminRole);</p>\r\n<p>The second line of code was the same as the one above, ie it said ClubStarterKit.Domain.<span style=\"color:#ff0000\">User</span> and needs to be changed to ClubStarterKit.Domain.<span style=\"color:#ff0000\">Role</span></p>\r\n<p><span style=\"color:#000000\">Thanks,</span></p>\r\n<p><span style=\"color:#000000\">-Allen</span></p>\r\n<p><span style=\"color:#ff0000\">&nbsp;</span></p>\r\n<p><span style=\"color:#ff0000\">&nbsp;</span></p>",
    "PostedDate": "2010-02-07T13:32:32.247-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]